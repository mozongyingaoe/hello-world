_Deployment_Module.bas
Attribute VB_Name = "_Deployment_Module"
Option Compare Database
Option Explicit

Public Function ExportDatabaseObjects() As Boolean

On Error GoTo Err_ExportDatabaseObjects
    
    Dim FileList As New Collection
    Dim db As Database
    Dim td As TableDef
    Dim d As Document
    Dim c As Container
    Dim i As Integer
    Dim sExportLocation As String
    Dim zipFileName As String
    
'########################### Parmeter Setup ###########################
    sExportLocation = getStringFromINI(getStringFromINI("Common", "LocalScheme", CurrentProject.path & "\GenericMain.ini"), "ModuleFolder", CurrentProject.path & "\GenericMain.ini")
    zipFileName = "GM_" & Format(Now, "yyyyMMdd_hhmmss") & ".zip"
'########################### Parmeter Setup ###########################

    Set db = CurrentDb()
        
'    For Each td In db.TableDefs
'        If Left(td.Name, 4) <> "MSys" Then
'            DoCmd.TransferText acExportDelim, , td.Name, sExportLocation & "Table_" & td.Name & ".txt", True
'        End If
'    Next td
    
    
'########################### Form ###########################
    Set c = db.Containers("Forms")
    
    For Each d In c.Documents
    
    If Left(d.Name, 2) = "F_" Then
        Application.SaveAsText acForm, d.Name, sExportLocation & "Form_" & d.Name & ".dll"
        
        If Not itemExistsInCollection(FileList, sExportLocation & "Form_" & d.Name & ".dll") Then
            FileList.Add sExportLocation & "Form_" & d.Name & ".dll"
        End If
    End If

    Next d
'########################### Form ###########################


'########################### Reports ###########################
'    Set c = db.Containers("Reports")
'    For Each d In c.Documents
'        Application.SaveAsText acReport, d.Name, sExportLocation & "Report_" & d.Name & ".report"
'    Next d
'########################### Reports ###########################


'########################### Scripts ###########################
'    Set c = db.Containers("Scripts")
'    For Each d In c.Documents
'        Application.SaveAsText acMacro, d.Name, sExportLocation & "Macro_" & d.Name & ".macro"
'    Next d
'########################### Scripts ###########################


'########################### Modules ###########################
    Set c = db.Containers("Modules")
    
    For Each d In c.Documents
        
        If Left(d.Name, 2) = "P_" Or Left(d.Name, 2) = "R_" Or Left(d.Name, 3) = "PL_" Or Left(d.Name, 3) = "RL_" Or Left(d.Name, 3) = "PI_" Then
            VBE.VBProjects("GenericMain").VBComponents(d.Name).Export sExportLocation & "Module_" & d.Name & ".dll"
            'Application.SaveAsText acModule, d.Name, sExportLocation & "Module_" & d.Name & ".bas"
            
            If Not itemExistsInCollection(FileList, sExportLocation & "Module_" & d.Name & ".dll") Then
                FileList.Add sExportLocation & "Module_" & d.Name & ".dll"
            End If
        End If
        
    Next d
'########################### Modules ###########################


'########################### Query ###########################
'    For i = 0 To db.QueryDefs.Count - 1
'        Application.SaveAsText acQuery, db.QueryDefs(i).Name, sExportLocation & "Query_" & db.QueryDefs(i).Name & ".query"
'    Next i
'########################### Query ###########################

    Set db = Nothing
    Set c = Nothing
    
    Call zipfiles(FileList, sExportLocation & zipFileName, False)
    
    MsgBox "All database objects have been exported as a text file to " & sExportLocation, vbInformation
    
    ExportDatabaseObjects = True
    
Exit_ExportDatabaseObjects:
    Exit Function
    
Err_ExportDatabaseObjects:
    MsgBox Err.Description
    Resume Exit_ExportDatabaseObjects
    
End Function
